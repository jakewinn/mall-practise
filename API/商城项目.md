# 商城项目

> v1.0.0


# 用户接口部分

## POST 用户微信登录

POST /api/login

未注册的微信会自动注册且登录，但是自动注册的账号无法使用，需要先绑定手机号

> Body 请求参数

```yaml
code: string
username: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|» code|body|string| 是 |微信登录code|
|» username|body|string| 是 |获取到的微信昵称|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "登录成功",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiNjk3MkQ2Qzk0NUZDRDRERSIsIm9wZW5pZCI6Im9JR1d6NXVlbGZnNlkyUzNJeEZYa1QyU0JsTGsiLCJpZCI6NSwiaWF0IjoxNzAwNDUwMzE0LCJleHAiOjE3MDEwNTUxMTR9.vCPRhHEbxkIVEZhS9_8qfZOnpCnNdMhvFSFlWxJU5Os"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» token|string|true|none||none|

## POST 绑定手机号

POST /api/bindPhone

uniapp中button使用open-type="getPhoneNumber"

> Body 请求参数

```yaml
openid: string
iv: string
encryptedData: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|» openid|body|string| 是 |用户账号的openid|
|» iv|body|string| 是 |获取手机号的iv|
|» encryptedData|body|string| 是 |获取手机号的encryptedData|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "绑定成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取用户账号信息

GET /api/user/userInfo

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": {
    "uuid": "AD42E171D67F2353",
    "username": "微信用户",
    "openid": "oIGWz5uelfg6Y2S3IxFXkT2SBlLk",
    "phone": "18093345166",
    "create_time": "2023-11-20 14:17:19"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» uuid|string|true|none||用户唯一uuid|
|»» username|string|true|none||昵称|
|»» openid|string|true|none||微信唯一openID|
|»» phone|string|true|none||手机号，未绑定显示 “未绑定”|
|»» create_time|string|true|none||注册时间|

## GET 获取用户页统计数据

GET /api/user/userCount

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": {
    "order_status0": 0,
    "order_status1": 0,
    "order_status2": 0,
    "order_status3": 0,
    "order_status4": 0,
    "order_status5": 0,
    "order_status6": 0,
    "coupon_status0": 0,
    "coupon_status1": 0,
    "coupon_status2": 0,
    "cart_count": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» order_status0|integer|true|none||未支付订单数量，30分钟有效期|
|»» order_status1|integer|true|none||已支付但是未发货订单数量|
|»» order_status2|integer|true|none||未发货订单数量|
|»» order_status3|integer|true|none||已发货未签收订单数量|
|»» order_status4|integer|true|none||已签收未评价数量|
|»» order_status5|integer|true|none||已完成订单数量|
|»» order_status6|integer|true|none||已退款订单数量|
|»» coupon_status0|integer|true|none||未使用的优惠券数量|
|»» coupon_status1|integer|true|none||已过期的优惠券数量|
|»» coupon_status2|integer|true|none||已使用的优惠券数量|
|»» cart_count|integer|true|none||购物车数量|

## POST 添加用户地址

POST /api/user/addAddress

> Body 请求参数

```yaml
name: string
phone: string
province: string
city: string
county: string
address_detail: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|
|» name|body|string| 是 |收货人名称|
|» phone|body|string| 是 |收货手机号|
|» province|body|string| 是 |省|
|» city|body|string| 是 |市|
|» county|body|string| 是 |区|
|» address_detail|body|string| 是 |详细地址|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "添加成功",
  "data": 5
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|integer|true|none||当前添加数据id|

## GET 获取用户地址列表

GET /api/user/addressList

自治区、直辖市、特别行政区的省部分等于市部分

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 4,
      "name": " 熊夫子",
      "phone": "18139189048",
      "province": "上海市",
      "city": "上海市",
      "county": "崇明区",
      "address_detail": "闪电街道68号",
      "is_default": 1
    },
    {
      "id": 5,
      "name": "熊夫子",
      "phone": "18139189048",
      "province": "江苏省",
      "city": "南通市",
      "county": "崇川区区",
      "address_detail": "狼山街道五山花园23号楼",
      "is_default": 0
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» name|string|true|none||收货人姓名|
|»» phone|string|true|none||收货手机号|
|»» province|string|true|none||省|
|»» city|string|true|none||市|
|»» county|string|true|none||区|
|»» address_detail|string|true|none||详细地址|
|»» is_default|integer|true|none||是否默认，1为默认|

## PUT 修改用户地址

PUT /api/user/editAddress

修改哪一项就传入哪一项

> Body 请求参数

```yaml
name: string
phone: string
province: string
city: string
county: string
address_detail: string
id: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|
|» name|body|string| 否 |收货人姓名|
|» phone|body|string| 否 |收货手机号|
|» province|body|string| 否 |省|
|» city|body|string| 否 |市|
|» county|body|string| 否 |区|
|» address_detail|body|string| 否 |详细地址|
|» id|body|string| 是 |要修改的数据id|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## DELETE 删除用户地址

DELETE /api/user/delAddress

如果是删除默认地址，则会将最新添加的地址设置为默认地址

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |要删除的数据id|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## PUT 修改默认用户地址

PUT /api/user/setDefaultAddress

默认地址只能有一个，默认第一个添加的地址为默认地址

> Body 请求参数

```yaml
id: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|

|» id|body|string| 是 |要设置的数据id|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "设置成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取订单列表

GET /api/order/orderList

支持对商品名称进行搜索

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 是 |页码|
|limit|query|string| 是 |每页数量|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 9,
      "order_no": "D1700186990BNI32",
      "create_time": "2023-01-02 12:00:00",
      "status": 0,
      "actual_price": 240,
      "address": "重庆市市辖区合川区三汇镇",
      "count": 3,
      "name": "李四",
      "phone": "9876543210",
      "express_no": null,
      "express_company": null,
      "product_name": "猫咪摆件",
      "product_img": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "product_specification_name": "中号",
      "product_specification_price": 60
    },
    {
      "id": 8,
      "order_no": "D170018699103P5N",
      "create_time": "2023-01-01 10:00:00",
      "status": 3,
      "actual_price": 101.25,
      "address": "四川省德阳市什邡市南泉镇",
      "count": 2,
      "name": "孔昊轩",
      "phone": "1234567890",
      "express_no": "SF202311205236",
      "express_company": "顺丰",
      "product_name": "猫咪摆件",
      "product_img": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "product_specification_name": "小号",
      "product_specification_price": 50.25
    }
  ],
  "total": 2
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» order_no|string|true|none||订单号|
|»» create_time|string|true|none||创建时间|
|»» status|integer|true|none||状态,0未支付1已支付2待发货3待收货4待评价5已完成6已退款|
|»» actual_price|integer|true|none||实付价格|
|»» address|string|true|none||收货地址|
|»» count|integer|true|none||份数|
|»» name|string|true|none||收货名称|
|»» phone|string|true|none||收货手机号|
|»» express_no|string¦null|true|none||快递单号|
|»» express_company|string¦null|true|none||快递公司|
|»» product_name|string|true|none||商品名称|
|»» product_img|string|true|none||商品图片，半角逗号分割|
|»» product_specification_name|string|true|none||规格名称|
|»» product_specification_price|integer|true|none||此规格价格|
|» total|integer|true|none||数据总数|

## GET 分状态获取订单列表

GET /api/order/orderListByStatus

状态,0未支付1已支付2待发货3待收货4待评价5已完成6已退款

> Body 请求参数

```yaml
{}

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 是 |页码|
|limit|query|string| 是 |每页数量|
|status|query|string| 是 |状态,0未支付1已支付2待发货3待收货4待评价5已完成6已退款|
|Authorization|header|string| 是 |用户token|


> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 8,
      "order_no": "D170018699103P5N",
      "create_time": "2023-01-01 10:00:00",
      "status": 3,
      "actual_price": 101.25,
      "address": "四川省德阳市什邡市南泉镇",
      "count": 2,
      "name": "孔昊轩",
      "phone": "1234567890",
      "express_no": "SF202311205236",
      "express_company": "顺丰",
      "product_name": "猫咪摆件",
      "product_img": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "product_specification_name": "小号",
      "product_specification_price": 50.25
    }
  ],
  "total": 1
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» order_no|string|true|none||订单号|
|»» create_time|string|true|none||创建时间|
|»» status|integer|true|none||状态,0未支付1已支付2待发货3待收货4待评价5已完成6已退款|
|»» actual_price|integer|true|none||实付价格|
|»» address|string|true|none||收货地址|
|»» count|integer|true|none||份数|
|»» name|string|true|none||收货名称|
|»» phone|string|true|none||收货手机号|
|»» express_no|string¦null|true|none||快递单号|
|»» express_company|string¦null|true|none||快递公司|
|»» product_name|string|true|none||商品名称|
|»» product_img|string|true|none||商品图片，半角逗号分割|
|»» product_specification_name|string|true|none||规格名称|
|»» product_specification_price|integer|true|none||此规格价格|
|» total|integer|true|none||数据总数|

## GET 获取订单详情

GET /api/order/orderDetail

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|orderId|query|string| 是 |订单数据id|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": {
    "id": 9,
    "order_no": "D1700186990BNI32",
    "create_time": "2023-01-02 12:00:00",
    "pay_time": null,
    "status": 0,
    "actual_price": 240,
    "total_price": 240,
    "address": "重庆市市辖区合川区三汇镇",
    "remark": "这是第二条订单备注",
    "count": 3,
    "name": "李四",
    "phone": "9876543210",
    "express_no": null,
    "express_company": null,
    "express_time": null,
    "sign_time": null,
    "coupon_name": null,
    "coupon_amount": null,
    "product_name": "猫咪摆件",
    "product_img": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
    "product_brief": "超级好看的猫咪摆件",
    "product_postage": 0,
    "is_coupon": false,
    "product_specification_name": "中号",
    "product_specification_price": 60
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» id|integer|true|none||数据id|
|»» order_no|string|true|none||订单号|
|»» create_time|string|true|none||创建时间|
|»» pay_time|null|true|none||支付时间|
|»» status|integer|true|none||状态,0未支付1已支付2待发货3待收货4待评价5已完成6已退款|
|»» actual_price|integer|true|none||实付金额|
|»» total_price|integer|true|none||商品总价|
|»» address|string|true|none||收货地址|
|»» remark|string|true|none||商品备注|
|»» count|integer|true|none||下单份数|
|»» name|string|true|none||收货人名称|
|»» phone|string|true|none||收货人手机号|
|»» express_no|null|true|none||快递单号|
|»» express_company|null|true|none||快递公司|
|»» express_time|null|true|none||发货时间|
|»» sign_time|null|true|none||签收时间|
|»» coupon_name|null|true|none||优惠券名称|
|»» coupon_amount|null|true|none||优惠券金额|
|»» product_name|string|true|none||商品名称|
|»» product_img|string|true|none||商品图片，半角逗号分隔|
|»» product_brief|string|true|none||商品简介|
|»» product_postage|integer|true|none||邮费，0为包邮|
|»» product_specification_name|string|true|none||商品规格名称|
|»» product_specification_price|integer|true|none||商品规格价格|
|»» is_coupon|boolean|true|none||是否使用优惠券|

## DELETE 删除订单

DELETE /api/order/deleteOrder

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|orderId|query|string| 是 |订单数据id|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 评价订单

POST /api/order/commentOrder

> Body 请求参数

```yaml
orderId: string
content: string
star: string
is_anonymous: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|
|» orderId|body|string| 是 |订单数据id|
|» content|body|string| 是 |评价内容|
|» star|body|string| 是 |评分，1-5|
|» is_anonymous|body|string| 否 |是否匿名，0否1是，默认0|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "评价成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 我的所有评价

GET /api/order/myCommentList

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 是 |页码|
|limit|query|string| 是 |每页数量|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 6,
      "content": "非常好",
      "create_time": "2023-11-22 09:50:42",
      "star": 4,
      "is_anonymous": 0,
      "product_name": "猫咪摆件",
      "product_img": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png"
    },
    {
      "id": 5,
      "content": "非常好",
      "create_time": "2023-11-22 09:49:08",
      "star": 4,
      "is_anonymous": 0,
      "product_name": "猫咪摆件",
      "product_img": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png"
    }
  ],
  "total": 2
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» content|string|true|none||评论内容|
|»» create_time|string|true|none||评论时间|
|»» star|integer|true|none||评分，1-5|
|»» is_anonymous|integer|true|none||是否匿名，0否1是|
|»» product_name|string|true|none||商品名称|
|»» product_img|string|true|none||商品图片|
|» total|integer|true|none||数据总数|

## DELETE 删除评价

DELETE /api/order/deleteComment

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|commentId|query|string| 是 |要删除的数据id|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取优惠券列表

GET /api/order/couponList

默认获取未使用，只可以分类查看，分类包括已使用，已过期，正常（未使用）

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|status|query|string| 否 |优惠券状态,0正常1过期2已使用|
|Authorization|header|string| 是 |用户token |

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 3,
      "name": "双十二优惠券",
      "amount": 22,
      "start_time": "2023-12-12 09:00:00",
      "end_time": "2023-12-19 09:00:00",
      "create_time": "2023-11-16 10:03:57",
      "use_time": null,
      "is_used": "false"
    }
  ],
  "total": 1
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||数据id|
|»» name|string|false|none||优惠券名称|
|»» amount|integer|false|none||优惠券金额|
|»» start_time|string|false|none||可使用开始时间|
|»» end_time|string|false|none||可使用截止时间|
|»» create_time|string|false|none||创建时间|
|»» use_time|null|false|none||使用时间|
|»» is_used|string|false|none||是否是用户独有|
|» total|integer|true|none||none|

## GET 获取优惠券详情

GET /api/order/couponDetail

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|couponId|query|string| 是 |优惠券id|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": {
    "id": 2,
    "name": "双十一优惠券",
    "amount": 12,
    "start_time": "2023-11-16 09:48:29",
    "end_time": "2023-11-19 09:48:29",
    "create_time": "2023-11-16 09:50:23",
    "use_time": null,
    "is_used": "false"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||数据id|
|»» name|string|false|none||优惠券名称|
|»» amount|integer|false|none||优惠券金额|
|»» start_time|string|false|none||可使用开始时间|
|»» end_time|string|false|none||可使用截止时间|
|»» create_time|string|false|none||创建时间|
|»» use_time|null|false|none||使用时间|
|»» is_used|string|false|none||是否是用户独有|
|» total|integer|true|none||none|

## GET 获取购物车列表

GET /api/order/cartList

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 2,
      "count": 1,
      "product_name": "猫咪摆件",
      "product_img": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "product_specification_name": "中号",
      "product_specification_price": 60
    },
    {
      "id": 3,
      "count": 1,
      "product_name": "猫咪摆件",
      "product_img": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "product_specification_name": "中号",
      "product_specification_price": 60
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» count|integer|true|none||份数|
|»» product_name|string|true|none||商品名称|
|»» product_img|string|true|none||商品图片|
|»» product_specification_name|string|true|none||规格名称|
|»» product_specification_price|integer|true|none||价格|

## DELETE 移除购物车物品

DELETE /api/order/delCart

支持批量移除

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|cartId|query|string| 是 |购物车数据id|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 添加购物车物品

POST /api/order/addCart

> Body 请求参数

```yaml
product_id: string
specification_id: string
count: "1"

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|
|» product_id|body|string| 是 |商品id|
|» specification_id|body|string| 是 |规格id|
|» count|body|string| 否 |份数|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "添加成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 订单收货

POST /api/order/signOrder

> Body 请求参数

```yaml
orderId: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|
|» orderId|body|string| 是 |订单数据id|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "收货成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取购物车内物品数量

GET /api/order/cartCount

此接口获取的数量是商品数量*商品份数的和

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": 3
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|integer|true|none||购物车数量|

## PUT 修改购物车物品数量

PUT /api/order/editCart

> Body 请求参数

```yaml
cartId: string
count: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|
|» cartId|body|string| 是 |购物车数据id|
|» count|body|string| 是 |份数|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取首页轮播图/公告

GET /api/public/index

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": {
    "swiper": "/public/swiper/swiper1.jpg",
    "notice": "欢迎来到商城",
    "notice_switch": 0,
    "notice_content": "欢迎来到商城",
    "category": [
      {
        "id": 3,
        "name": "桌面摆件",
        "icon": "/public/class_icon/icon-1700010101204.png",
        "create_time": "2023-11-15 09:01:41"
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» swiper|string|true|none||轮播图，使用半角逗号分隔|
|»» notice|string|true|none||首页滚动公告|
|»» notice_switch|integer|true|none||首页弹窗公告开关|
|»» notice_content|string|true|none||首页弹窗公告内容|
|»» category|[object]|true|none||首页商品分类数组|
|»»» id|integer|false|none||分类id|
|»»» name|string|false|none||分类名称|
|»»» icon|string|false|none||分类图片|
|»»» create_time|string|false|none||创建时间|

## GET 商品列表

GET /api/public/product

分页，支持按照人气，销量，价格快速排序，支持商品名称搜索以及按照分类查看

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 是 |页码|
|limit|query|string| 是 |每页数量|
|sort|query|string| 否 |排序：popularity人气，sales销量，price价格|
|name|query|string| 否 |商品名称|
|category|query|string| 否 |分类id|
|sortType|query|string| 否 |排序方式，只支持传入desc和asc|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "total": 1,
  "data": [
    {
      "id": 3,
      "uuid": "09400B3217FE16B1",
      "name": "猫咪摆件",
      "category": "官方",
      "brief": "超级好看的猫咪摆件",
      "sales": 10,
      "icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "status": 0,
      "category_id": 0,
      "postage": 0,
      "popularity": 10,
      "price": 50.25
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» total|integer|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||数据id|
|»» uuid|string|false|none||商品uuid|
|»» name|string|false|none||商品名称|
|»» category|string|false|none||商品标签|
|»» brief|string|false|none||商品简介|
|»» sales|integer|false|none||商品销量|
|»» icon|string|false|none||商品图片，半角逗号分割|
|»» status|integer|false|none||商品状态,0正常1下架|
|»» category_id|integer|false|none||分类id|
|»» postage|integer|false|none||商品邮费，0为包邮|
|»» popularity|integer|false|none||商品人气|
|»» price|number|false|none||价格|

## GET 获取商品详情

GET /api/commodity/product/{id}

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|path|string| 是 |商品数据id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": {
    "id": 3,
    "uuid": "09400B3217FE16B1",
    "name": "猫咪摆件",
    "category": "官方",
    "brief": "超级好看的猫咪摆件",
    "sales": 10,
    "icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
    "status": 0,
    "category_id": null,
    "postage": 0,
    "popularity": 12,
    "description": "小猫咪摆件，超级猫咪摆件，下单前请联系客服",
    "specification": [
      {
        "id": 3,
        "name": "小号",
        "price": 50.25,
        "stock": 221
      },
      {
        "id": 4,
        "name": "中号",
        "price": 60,
        "stock": 323
      },
      {
        "id": 5,
        "name": "大号",
        "price": 80,
        "stock": 228
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» id|integer|true|none||数据id|
|»» uuid|string|true|none||商品uuid|
|»» name|string|true|none||商品名称|
|»» category|string|true|none||商品标签|
|»» brief|string|true|none||商品简介|
|»» sales|integer|true|none||商品销量|
|»» icon|string|true|none||商品图片，使用半角逗号分割|
|»» status|integer|true|none||商品状态,0正常1下架|
|»» category_id|any|true|none||商品隶属分类|

*anyOf*

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|»»» *anonymous*|null|false|none||表示无分类|

*or*

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|»»» *anonymous*|object|false|none||none|
|»»»» icon|string|true|none||分类图标|
|»»»» name|string|true|none||分类名称|

*continued*

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|»» postage|integer|true|none||邮费，0为包邮|
|»» popularity|integer|true|none||商品人气|
|»» description|string|true|none||商品描述|
|»» specification|[object]|true|none||商品规格列表|
|»»» id|integer|true|none||数据id|
|»»» name|string|true|none||规格名称|
|»»» price|number|true|none||此规格价格|
|»»» stock|integer|true|none||此规格库存|

## GET 获取收货地址

GET /api/commodity/address

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|is_default|query|string| 否 |只要有此参数则获取唯一的默认地址|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 7,
      "name": "丁晓庆",
      "phone": "16610872624",
      "province": "江苏省",
      "city": "淮安市",
      "county": "玄武区",
      "address_detail": "高低嘉园25号楼",
      "is_default": 1
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||数据id|
|»» name|string|false|none||收货人姓名|
|»» phone|string|false|none||收货人手机号|
|»» province|string|false|none||省|
|»» city|string|false|none||市|
|»» county|string|false|none||区|
|»» address_detail|string|false|none||详细地址|
|»» is_default|integer|false|none||是否默认，1是0否|

## GET 获取商品评价

GET /api/commodity/comment

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 是 |页码|
|limit|query|string| 是 |每页数量|
|product_id|query|string| 是 |商品id|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 4,
      "product_id": 3,
      "content": "好吃很好看，特别好",
      "star": 4,
      "create_time": "2023-11-15 16:39:43",
      "username": "微信用户"
    },
    {
      "id": 5,
      "product_id": 3,
      "content": "非常好",
      "star": 4,
      "create_time": "2023-11-22 09:49:08",
      "username": "微信用户"
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» product_id|integer|true|none||所属商品id|
|»» content|string|true|none||评论内容|
|»» star|integer|true|none||评分|
|»» create_time|string|true|none||创建时间|
|»» username|string|true|none||用户名|

## GET 获取客服二维码

GET /api/commodity/service

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": "/public/system/icon-1700182861606.png"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|string|true|none||二维码地址|

## GET 获取商品推荐

GET /api/commodity/recommend

根据商品名称相似度推荐，如果匹配结果少于2个将会补充热度最高的商品

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|product_id|query|string| 是 |商品id|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 3,
      "uuid": "09400B3217FE16B1",
      "name": "猫咪摆件",
      "category": "官方",
      "brief": "超级好看的猫咪摆件",
      "sales": 10,
      "icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "status": 0,
      "category_id": 0,
      "postage": 0,
      "popularity": 14,
      "price": 50.25
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||数据id|
|»» uuid|string|false|none||商品uuid|
|»» name|string|false|none||商品名称|
|»» category|string|false|none||商品标签|
|»» brief|string|false|none||商品简介|
|»» sales|integer|false|none||商品销量|
|»» icon|string|false|none||商品图片，半角逗号分割|
|»» status|integer|false|none||商品状态,0正常1下架|
|»» category_id|integer|false|none||分类id|
|»» postage|integer|false|none||商品邮费，0为包邮|
|»» popularity|integer|false|none||商品人气|
|»» price|number|false|none||价格|

## GET 获取简易商品信息

GET /api/commodity/easyproduct/{id}

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|path|string| 是 |none|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": {
    "id": 3,
    "uuid": "09400B3217FE16B1",
    "name": "猫咪摆件",
    "category": "官方",
    "brief": "超级好看的猫咪摆件",
    "icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
    "category_id": 0,
    "postage": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» id|integer|true|none||数据id|
|»» uuid|string|true|none||商品uuid|
|»» name|string|true|none||商品名称|
|»» category|string|true|none||商品标签|
|»» brief|string|true|none||商品简介|
|»» icon|string|true|none||商品图片|
|»» category_id|integer|true|none||所属分类|
|»» postage|integer|true|none||邮费|

## POST 创建订单

POST /api/purchase/create

> Body 请求参数

```yaml
p_name: string
total_price: string
actual_price: string
address: string
remark: string
product_id: string
product_specification_id: string
coupon_id: "0"
count: "1"
name: string
phone: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|
|» p_name|body|string| 是 |商品名称|
|» total_price|body|string| 是 |订单总价|
|» actual_price|body|string| 是 |实付价格|
|» address|body|string| 是 |收货地址|
|» remark|body|string| 是 |订单备注|
|» product_id|body|string| 是 |商品规格|
|» product_specification_id|body|string| 是 |商品规格id|
|» coupon_id|body|string| 是 |优惠券id|
|» count|body|string| 是 |商品份数|
|» name|body|string| 是 |收货人姓名|
|» phone|body|string| 是 |收货人手机号|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## POST 支付订单

POST /api/purchase/notify

支付完成回调地址，300为伪装消息，200支付成功，500后端错误

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 获取商品分类

GET /api/public/category

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 3,
      "name": "桌面摆件",
      "icon": "/public/class_icon/icon-1700010101204.png",
      "create_time": "2023-11-15 09:01:41"
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||分类数据id|
|»» name|string|false|none||分类名称|
|»» icon|string|false|none||分类图片|
|»» create_time|string|false|none||创建时间|

## GET 用户登录是否生效

GET /api/checkLogin

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "登陆中"
}
```

```json
{
  "code": 403,
  "msg": "非法请求"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 获取用户地址详情

GET /api/user/addressDetail

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |地址数据id|
|Authorization|header|string| 是 |用户token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": {
    "address_detail": "高低嘉园25号楼",
    "city": "淮安市",
    "county": "玄武区",
    "id": 7,
    "is_default": 1,
    "name": "丁晓庆",
    "phone": "16610872624",
    "province": "江苏省"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» address_detail|string|true|none||详细地址|
|»» city|string|true|none||市|
|»» county|string|true|none||区|
|»» id|integer|true|none||数据id|
|»» is_default|integer|true|none||是否默认，0否1是|
|»» name|string|true|none||收货人姓名|
|»» phone|string|true|none||收货人手机号|
|»» province|string|true|none||省|

# 管理员接口部分

## POST 管理员登录

POST /admin/login

> Body 请求参数

```yaml
username: string
password: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|

|» username|body|string| 是 |管理员账号|
|» password|body|string| 是 |管理员密码|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "登录成功",
  "adminName": "admin",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiaWQiOjEsImlhdCI6MTY5OTk0Nzg5NywiZXhwIjoxNzAwNTUyNjk3fQ.FVbmPJFu08ruEHNybcvekUQePdsW0UbacH1TaM3P9PM"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||状态码|
|» msg|string|true|none||返回提示|
|» adminName|string|true|none||账号|
|» token|string|true|none||管理员token|

## POST 添加商品分类

POST /admin/addProductClassification

> Body 请求参数

```yaml
icon: string
name: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» icon|body|string(binary)| 是 |分类图片，3MB内，限制png和jpg格式|
|» name|body|string| 是 |分类名称|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "添加成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取商品分类列表

GET /admin/productClassificationList

> Body 请求参数

```yaml
{}

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|name|query|string| 否 |按名称搜索|
|Authorization|header|string| 是 |管理员token|


> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 2,
      "name": "风景摆件",
      "icon": "/public/class_icon/icon-1699950090444.png",
      "create_time": "2023-11-14 16:21:30",
      "commodity_count": 0
    }
  ],
  "total": 1
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||分类id|
|»» name|string|false|none||分类名称|
|»» icon|string|false|none||分类图片|
|»» create_time|string|false|none||创建时间|
|»» commodity_count|integer|false|none||当前分类下商品数量|
|» total|integer|true|none||总数量|

## PUT 修改商品分类名称

PUT /admin/modifyProductClassification/name

> Body 请求参数

```yaml
id: string
name: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |修改数据id|
|» name|body|string| 是 |修改名称|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 修改商品分类图片

POST /admin/modifyProductClassification/icon

> Body 请求参数

```yaml
id: string
icon: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |修改数据id|
|» icon|body|string(binary)| 是 |新的图片|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## DELETE 删除商品分类

DELETE /admin/deleteProductClassification

如果此分类下有商品，则这些商品将会被移除分类

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |要删除的数据id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 添加商品

POST /admin/addProduct

> Body 请求参数

```yaml
name: string
category: string
brief: string
sales: "0"
description: string
icon: string
postage: 0
popularity: "1"

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» name|body|string| 是 |商品名称|
|» category|body|string| 是 |商品标签|
|» brief|body|string| 是 |商品简介|
|» sales|body|string| 否 |商品展示销量|
|» description|body|string| 是 |商品描述|
|» icon|body|string(binary)| 是 |商品展示图片|
|» postage|body|number| 是 |邮费，如果是0则是包邮|
|» popularity|body|string| 否 |商品人气，会影响排序|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "添加成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 添加商品规格

POST /admin/addProductSpecifications

> Body 请求参数

```yaml
product_id: string
name: string
value: string
stock: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» product_id|body|string| 是 |商品id|
|» name|body|string| 是 |规格名称|
|» value|body|string| 是 |此规格对应价格|
|» stock|body|string| 是 |当前规格库存|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "添加成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## PUT 修改商品规格

PUT /admin/modifyProductSpecifications

支持修改库存，名称，规格对应价格，修改哪一项就传入哪一项

> Body 请求参数

```yaml
id: string
name: string
value: string
stock: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |数据id|
|» name|body|string| 是 |规格名称|
|» value|body|string| 是 |规格对应价格|
|» stock|body|string| 是 |当前规格库存|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## DELETE 删除商品规格

DELETE /admin/deleteProductSpecifications

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |要删除的数据id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取规格列表

GET /admin/productSpecificationsList

不传入商品id则默认获取全部的规格

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|product_id|query|string| 否 |商品id|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 3,
      "product_id": 3,
      "name": "小号",
      "value": 50,
      "stock": 100
    },
    {
      "id": 4,
      "product_id": 3,
      "name": "中号",
      "value": 60,
      "stock": 100
    },
    {
      "id": 5,
      "product_id": 3,
      "name": "大号",
      "value": 80,
      "stock": 100
    }
  ],
  "total": 3
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» product_id|integer|true|none||商品id|
|»» name|string|true|none||规格名称|
|»» value|integer|true|none||规格价格|
|»» stock|integer|true|none||规格库存|
|» total|integer|true|none||总数|

## POST 一键补充库存

POST /admin/supplementStock

所有的id如果有多个则使用半角逗号分割，只传入商品规格则修改对应规格库存，只传入商品id则修改此商品下所有规格库存，都不传入则会修改系统内全部库存
要传入的是需要补充的数量，不传入则默认加100
随机差值传入之后可在0-传入的值中产生一个随机数增加

> Body 请求参数

```yaml
product_id: string
specification_id: string
stock: string
random: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» product_id|body|string| 否 |商品id|
|» specification_id|body|string| 否 |规格id|
|» stock|body|string| 否 |要补充到的库存数|
|» random|body|string| 否 |随机差值|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "补充成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取商品列表

GET /admin/productList

> Body 请求参数

```yaml
{}

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|category_id|query|string| 否 |分类id|
|Authorization|header|string| 是 |管理员token|


> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 3,
      "uuid": "09400B3217FE16B1",
      "name": "猫咪摆件",
      "category": "官方",
      "views": 0,
      "brief": "超级好看的猫咪摆件",
      "sales": 10,
      "actual_sales": 0,
      "description": "小猫咪摆件，超级猫咪摆件，下单前请联系客服",
      "icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "status": 0,
      "category_id": 0,
      "postage": 0,
      "popularity": 10,
      "create_time": "2023-11-15 11:19:53",
      "update_time": "2023-11-15 11:19:53",
      "specification_count": 1
    },
    {
      "id": 4,
      "uuid": "C42C24C24A016897",
      "name": "黄色花盆",
      "category": "官方",
      "views": 0,
      "brief": "超级好看的猫咪摆件",
      "sales": 10,
      "actual_sales": 0,
      "description": "小猫咪摆件，超级猫咪摆件，下单前请联系客服",
      "icon": "/public/product_icon/icon-1700018423559.png,/public/product_icon/icon-1700018423578.png",
      "status": 0,
      "category_id": 0,
      "postage": 0,
      "popularity": 10,
      "create_time": "2023-11-15 11:20:23",
      "update_time": "2023-11-15 11:20:23",
      "specification_count": 1
    }
  ],
  "total": 2
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» uuid|string|true|none||商品uuid|
|»» name|string|true|none||商品名称|
|»» category|string|true|none||商品标签|
|»» views|integer|true|none||商品浏览量|
|»» brief|string|true|none||商品简介|
|»» sales|integer|true|none||商品展示销量|
|»» actual_sales|integer|true|none||商品真实销量|
|»» description|string|true|none||商品描述|
|»» icon|string|true|none||商品图片，使用半角逗号分隔|
|»» status|integer|true|none||商品状态，0正常1下架|
|»» category_id|integer|true|none||隶属分类id|
|»» postage|integer|true|none||邮费，0为包邮|
|»» popularity|integer|true|none||商品人气|
|»» create_time|string|true|none||创建时间|
|»» update_time|string|true|none||修改时间|
|»» specification_count|integer|true|none||商品规格数量|
|» total|integer|true|none||数据总数|

## GET 获取商品详情

GET /admin/productDetails

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |商品id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 3,
      "uuid": "09400B3217FE16B1",
      "name": "猫咪摆件",
      "category": "官方",
      "views": 0,
      "brief": "超级好看的猫咪摆件",
      "sales": 10,
      "actual_sales": 0,
      "description": "小猫咪摆件，超级猫咪摆件，下单前请联系客服",
      "icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "status": 0,
      "category_id": 0,
      "postage": 0,
      "popularity": 10,
      "create_time": "2023-11-15 11:19:53",
      "update_time": "2023-11-15 11:19:53"
    }
  ],
  "specification": [
    {
      "id": 3,
      "product_id": 3,
      "name": "小号",
      "value": 50.25,
      "stock": 221
    },
    {
      "id": 4,
      "product_id": 3,
      "name": "中号",
      "value": 60,
      "stock": 323
    },
    {
      "id": 5,
      "product_id": 3,
      "name": "大号",
      "value": 80,
      "stock": 228
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||数据id|
|»» uuid|string|false|none||商品uuid|
|»» name|string|false|none||商品名称|
|»» category|string|false|none||商品标签|
|»» views|integer|false|none||商品浏览量|
|»» brief|string|false|none||商品简介|
|»» sales|integer|false|none||商品展示销量|
|»» actual_sales|integer|false|none||商品实际销量|
|»» description|string|false|none||商品描述|
|»» icon|string|false|none||商品图片，使用半角逗号分隔|
|»» status|integer|false|none||商品状态，0正常1下架|
|»» category_id|integer|false|none||隶属分类|
|»» postage|integer|false|none||邮费，0为包邮|
|»» popularity|integer|false|none||商品人气|
|»» create_time|string|false|none||创建时间|
|»» update_time|string|false|none||更新时间|
|» specification|[object]|true|none||规格列表|
|»» id|integer|true|none||规格数据id|
|»» product_id|integer|true|none||隶属商品id|
|»» name|string|true|none||规格名称|
|»» value|number|true|none||此规格价格|
|»» stock|integer|true|none||此规格库存|

## PUT 修改商品信息

PUT /admin/modifyProduct

传入哪一项就修改哪一项

> Body 请求参数

```yaml
id: string
name: string
category: string
brief: string
description: string
views: string
sales: string
status: string
postage: string
popularity: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |商品id|
|» name|body|string| 否 |商品名称|
|» category|body|string| 否 |商品标签|
|» brief|body|string| 否 |商品简介|
|» description|body|string| 否 |商品描述|
|» views|body|string| 否 |商品浏览量|
|» sales|body|string| 否 |商品展示销量|
|» status|body|string| 否 |商品状态，0正常1下架|
|» postage|body|string| 否 |邮费，0为包邮|
|» popularity|body|string| 否 |商品人气|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 搜索商品

GET /admin/searchProduct

支持搜素uuid，名称，简介，标签，分类

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|uuid|query|string| 否 |uuid|
|name|query|string| 否 |商品名称|
|category|query|array[string]| 否 |标签|
|brief|query|string| 否 |简介|
|category_class|query|string| 否 |分类名称|
|Authorization|header|string| 是 |管理员 token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 3,
      "uuid": "09400B3217FE16B1",
      "name": "猫咪摆件",
      "category": "官方",
      "views": 0,
      "brief": "超级好看的猫咪摆件",
      "sales": 10,
      "actual_sales": 0,
      "description": "小猫咪摆件，超级猫咪摆件，下单前请联系客服",
      "icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "status": 0,
      "category_id": 0,
      "postage": 0,
      "popularity": 10,
      "create_time": "2023-11-15 11:19:53",
      "update_time": "2023-11-15 11:19:53",
      "specification_count": 3
    },
    {
      "id": 4,
      "uuid": "C42C24C24A016897",
      "name": "黄色花盆",
      "category": "官方",
      "views": 0,
      "brief": "超级好看的猫咪摆件",
      "sales": 10,
      "actual_sales": 0,
      "description": "小猫咪摆件，超级猫咪摆件，下单前请联系客服",
      "icon": "/public/product_icon/icon-1700018423559.png,/public/product_icon/icon-1700018423578.png",
      "status": 0,
      "category_id": 0,
      "postage": 0,
      "popularity": 10,
      "create_time": "2023-11-15 11:20:23",
      "update_time": "2023-11-15 11:20:23",
      "specification_count": 1
    }
  ],
  "total": 0
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||参考“获取商品列表”|
|»» id|integer|true|none||none|
|»» uuid|string|true|none||none|
|»» name|string|true|none||none|
|»» category|string|true|none||none|
|»» views|integer|true|none||none|
|»» brief|string|true|none||none|
|»» sales|integer|true|none||none|
|»» actual_sales|integer|true|none||none|
|»» description|string|true|none||none|
|»» icon|string|true|none||none|
|»» status|integer|true|none||none|
|»» category_id|integer|true|none||none|
|»» postage|integer|true|none||none|
|»» popularity|integer|true|none||none|
|»» create_time|string|true|none||none|
|»» update_time|string|true|none||none|
|»» specification_count|integer|true|none||none|
|» total|integer|true|none||none|

## PUT 修改商品分类

PUT /admin/modifyProductCategory

> Body 请求参数

```yaml
id: string
category_id: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |商品id|
|» category_id|body|string| 是 |分类id，为0则不分类|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## DELETE 删除商品

DELETE /admin/deleteProduct

支持批量

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |商品id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 发布商品评论

POST /admin/addProductComment

> Body 请求参数

```yaml
product_id: string
user_id: string
content: string
star: string
is_anonymous: "0"

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» product_id|body|string| 否 |商品id|
|» user_id|body|string| 否 |用户id，0表示管理员发布|
|» content|body|string| 否 |评论内容|
|» star|body|string| 否 |评分，1-5|
|» is_anonymous|body|string| 否 |是否匿名，0不匿名，1匿名|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "发布成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取商品下的评论

GET /admin/productCommentList

如果不传商品id，则获取所有的评论

> Body 请求参数

```yaml
{}

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|product_id|query|string| 否 |商品id|
|Authorization|header|string| 是 |管理员token|


> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 4,
      "product_id": 3,
      "user_id": 0,
      "content": "好吃很好看，特别好",
      "create_time": "2023-11-15 16:39:43",
      "star": 5,
      "is_anonymous": 0
    }
  ],
  "total": 1
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||评论id|
|»» product_id|integer|false|none||商品id|
|»» user_id|integer|false|none||用户id，0表示管理员|
|»» content|string|false|none||评论内容|
|»» create_time|string|false|none||创建时间|
|»» star|integer|false|none||评分，1-5|
|»» is_anonymous|integer|false|none||是否匿名，0匿名1不匿名|
|» total|integer|true|none||none|

## GET 获取评论详情

GET /admin/productCommentDetails

> Body 请求参数

```yaml
{}

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |评论id|
|Authorization|header|string| 是 |管理员token|


> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": {
    "id": 4,
    "product_id": 3,
    "user_id": 0,
    "content": "好吃很好看，特别好",
    "create_time": "2023-11-15 16:39:43",
    "star": 5,
    "is_anonymous": 0,
    "product_uuid": "09400B3217FE16B1",
    "product_name": "猫咪摆件",
    "product_brief": "超级好看的猫咪摆件",
    "product_icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
    "product_category": "官方"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» id|integer|true|none||评论数据id|
|»» product_id|integer|true|none||商品id|
|»» user_id|integer|true|none||评论用户id，0为管理员|
|»» content|string|true|none||评论内容|
|»» create_time|string|true|none||评论时间|
|»» star|integer|true|none||评分，1-5|
|»» is_anonymous|integer|true|none||是否匿名，0否1是|
|»» product_uuid|string|true|none||商品uuid|
|»» product_name|string|true|none||商品名称|
|»» product_brief|string|true|none||商品简介|
|»» product_icon|string|true|none||商品图片|
|»» product_category|string|true|none||商品标签|

## PUT 修改商品评价

PUT /admin/modifyProductComment

修改哪一项就传入哪一项

> Body 请求参数

```yaml
id: string
content: string
star: string
is_anonymous: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |数据id|
|» content|body|string| 否 |评价内容|
|» star|body|string| 否 |评分，1-5|
|» is_anonymous|body|string| 否 |是否匿名，0否1是|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## DELETE 删除商品评论

DELETE /admin/deleteProductComment

支持批量

> Body 请求参数

```yaml
id: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |评论id|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 添加优惠券

POST /admin/addCoupon

> Body 请求参数

```yaml
user_id: "0"
name: string
amount: string
min: "0"
start_time: string
end_time: string
status: "0"

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» user_id|body|string| 否 |可使用的用户id，为0则是所有人可用|
|» name|body|string| 是 |优惠券名称|
|» amount|body|string| 是 |优惠券优惠金额|
|» min|body|string| 否 |最低消费金额，默认0|
|» start_time|body|string| 是 |有效期开始时间|
|» end_time|body|string| 是 |有效期结束时间|
|» status|body|string| 否 |优惠券状态,0正常1过期2已使用|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "添加成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## PUT 修改优惠券

PUT /admin/modifyCoupon

修改哪一项就传入哪一项

> Body 请求参数

```yaml
id: string
name: string
amount: string
start_time: string
end_time: string
status: string
user_id: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |优惠券id|
|» name|body|string| 否 |优惠券名称|
|» amount|body|string| 否 |优惠券金额|
|» start_time|body|string| 否 |有效期开始时间|
|» end_time|body|string| 否 |有效期结束时间|
|» status|body|string| 否 |优惠券状态,0正常1过期2已使用|
|» user_id|body|string| 否 |使用用户id，0表示所有人可用|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## DELETE 删除优惠券

DELETE /admin/deleteCoupon

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |优惠券id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取优惠券列表

GET /admin/couponList

支持分类：过期，未使用，已使用查看

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|status|query|string| 否 |优惠券状态,0正常1过期2已使用|
|user_id|query|string| 否 |可使用的用户，0表示所有人可用|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 2,
      "user_id": 0,
      "name": "双十一优惠券",
      "amount": 12,
      "min": 10.9,
      "start_time": "2023-11-16 09:48:29",
      "end_time": "2023-11-19 09:48:29",
      "status": 0,
      "create_time": "2023-11-16 09:50:23",
      "use_time": null
    },
    {
      "id": 3,
      "user_id": 0,
      "name": "双十二优惠券",
      "amount": 22,
      "min": 0,
      "start_time": "2023-12-12 09:00:00",
      "end_time": "2023-12-19 09:00:00",
      "status": 0,
      "create_time": "2023-11-16 10:03:57",
      "use_time": null
    }
  ],
  "total": 2
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» user_id|integer|true|none||优惠券可使用用户，0表示所有人|
|»» name|string|true|none||优惠券名称|
|»» amount|integer|true|none||优惠券金额|
|»» min|number|true|none||最低消费|
|»» start_time|string|true|none||有效期开始时间|
|»» end_time|string|true|none||有效期结束时间|
|»» status|integer|true|none||优惠券状态,0正常1过期2已使用|
|»» create_time|string|true|none||创建时间|
|»» use_time|null|true|none||使用时间，未使用是null|
|» total|integer|true|none||none|

## PUT 封禁/解封用户

PUT /admin/user/prohibitedUsers

> Body 请求参数

```yaml
id: string
status: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |用户id|
|» status|body|string| 是 |账户状态，0解封1封禁|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "封禁成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取用户列表

GET /admin/user/userList

支持单项多项混合搜索

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|name|query|string| 否 |账号|
|phone|query|string| 否 |手机号|
|status|query|string| 否 |用户状态，0正常1封禁|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 2,
      "uuid": "86F16720A93243D5",
      "username": "墨羽晨",
      "openid": "wx_shdhs4da65sd6d",
      "phone": "17389241560",
      "create_time": "2023-11-16 10:30:00",
      "status": 0,
      "cart_count": 0,
      "order_count": 0
    },
    {
      "id": 4,
      "uuid": "8ECB81C0CBE2CE6C",
      "username": "牛马",
      "openid": "wx_s5da65sda6",
      "phone": "19031755014",
      "create_time": "2023-11-16 10:31:09",
      "status": 0,
      "cart_count": 0,
      "order_count": 0
    }
  ],
  "total": 2
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||用户数据id|
|»» uuid|string|true|none||用户uuid|
|»» username|string|true|none||账号|
|»» openid|string|true|none||微信id|
|»» phone|string|true|none||手机号|
|»» create_time|string|true|none||创建时间|
|»» status|integer|true|none||账号状态0正常1封禁|
|»» cart_count|number|true|none||购物车数量|
|»» order_count|number|true|none||下单数量|
|» total|integer|true|none||数据数量|

## DELETE 删除用户

DELETE /admin/user/userDel

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |用户id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取用户地址

GET /admin/user/userAddress

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|id|query|string| 否 |用户id，否则返回分页的所有数据|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 3,
      "user_id": 4,
      "name": "李四",
      "phone": "19031755014",
      "province": "江苏省",
      "city": "南通市",
      "county": "崇川区",
      "address_detail": "测试地址202室",
      "is_default": 0
    }
  ],
  "total": 1
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||数据id|
|»» user_id|integer|false|none||所属用户id|
|»» name|string|false|none||收货人名称|
|»» phone|string|false|none||收货人手机号|
|»» province|string|false|none||省份|
|»» city|string|false|none||城市|
|»» county|string|false|none||区县|
|»» address_detail|string|false|none||详细地址|
|»» is_default|integer|false|none||是否默认，1默认，0不默认|
|» total|integer|true|none||数据条数|

## DELETE 删除用户地址

DELETE /admin/user/userAddressDel

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |地址数据id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 查看用户的购物车

GET /admin/user/userCart

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|id|query|string| 是 |用户id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取成功",
  "data": [
    {
      "id": 2,
      "user_id": 2,
      "product_id": 3,
      "count": 1,
      "checked": 1,
      "create_time": "2023-11-16 11:32:03",
      "product_specification_id": 0,
      "product_name": "猫咪摆件",
      "product_icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "specification_name": "小号",
      "specification_value": 50.25,
      "specification_stock": 221
    }
  ],
  "total": 1
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|false|none||购物车数据id|
|»» user_id|integer|false|none||用户id|
|»» product_id|integer|false|none||商品id|
|»» count|integer|false|none||份数|
|»» checked|integer|false|none||是否被选择，1是0否|
|»» create_time|string|false|none||加入时间|
|»» product_specification_id|integer|false|none||商品规格id，0表示默认规格|
|»» product_name|string|false|none||商品名称|
|»» product_icon|string|false|none||商品图片|
|»» specification_name|string|false|none||规格名称|
|»» specification_value|number|false|none||价格|
|»» specification_stock|integer|false|none||此规格库存|
|» total|integer|true|none||数据总数|

## DELETE 移除购物车物品

DELETE /admin/user/userCartDel

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |购物车数据id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "移除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 订单退款

POST /admin/order/orderRefund

> Body 请求参数

```yaml
money: string
orderId: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» money|body|string| 是 |退款金额|
|» orderId|body|string| 是 |需要退款的订单号|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "退款成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 修改商品图片

POST /admin/modifyProductIcon

> Body 请求参数

```yaml
id: string
icon: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |要修改的数据id|
|» icon|body|string(binary)| 否 |商品图片|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取管理员信息

GET /admin/system/getAdminInfo

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取管理员信息成功",
  "data": {
    "id": 1,
    "username": "admin",
    "create_time": "2023-11-14 15:16:00"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» id|integer|true|none||none|
|»» username|string|true|none||管理员账号|
|»» create_time|string|true|none||创建时间|

## PUT 修改管理员账号

PUT /admin/system/updateAdmin

> Body 请求参数

```yaml
username: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» username|body|string| 是 |新账号|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## PUT 修改管理员密码

PUT /admin/system/updateAdminPwd

新密码长度6-22，只能包含数字、字母、-_.@$%&!#?中的一种或多种

> Body 请求参数

```yaml
oldPwd: string
newPwd: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |改管理员token|
|» oldPwd|body|string| 是 |原密码|
|» newPwd|body|string| 是 |新密码|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取系统设置

GET /admin/system/getSystem

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取系统设置成功",
  "data": {
    "id": 1,
    "swiper": "/public/swiper/swiper1.jpg",
    "notice": "欢迎来到商城",
    "notice_switch": 0,
    "notice_content": "欢迎来到商城",
    "category": [
      {
        "id": 3,
        "name": "桌面摆件",
        "icon": "/public/class_icon/icon-1700010101204.png",
        "create_time": "2023-11-15 09:01:41"
      }
    ],
    "service_qr_code": "/public/system/qr.png"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» id|integer|true|none||none|
|»» swiper|string|true|none||轮播图，使用半角逗号分隔|
|»» notice|string|true|none||首页滚动公告内容|
|»» notice_switch|integer|true|none||弹窗公告开关，0关闭1开启|
|»» notice_content|string|true|none||弹窗公告内容|
|»» category|[object]|true|none||首页展示分类|
|»»» id|integer|false|none||分类id|
|»»» name|string|false|none||分类名称|
|»»» icon|string|false|none||分类图片|
|»»» create_time|string|false|none||分类创建时间|
|»» service_qr_code|string|true|none||客服二维码|

## POST 修改轮播图

POST /admin/system/updateSwiper

> Body 请求参数

```yaml
icon: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» icon|body|string(binary)| 是 |多文件|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 修改首页滚动公告

POST /admin/system/updateNotice

> Body 请求参数

```yaml
notice: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» notice|body|string| 是 |公告内容|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 修改弹窗公告开关

POST /admin/system/updatePopup

> Body 请求参数

```yaml
popup: "0"

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» popup|body|string| 是 |1开启0关闭|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功，已关闭"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 修改弹窗公告内容

POST /admin/system/updatePopupContent

> Body 请求参数

```yaml
popupContent: "Bearer "

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» popupContent|body|string| 是 |弹窗公告内容|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 修改首页展示分类

POST /admin/system/updateCategory

> Body 请求参数

```yaml
category: 1,2,3,4

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» category|body|string| 是 |分类id，使用半角逗号分隔|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 修改客服二维码

POST /admin/system/updateQrcode

> Body 请求参数

```yaml
icon: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» icon|body|string(binary)| 是 |图片|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取订单列表

GET /admin/order/getOrderList

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取订单列表成功",
  "data": [
    {
      "id": 10,
      "user_id": 2,
      "order_no": "D1700186990Z1F4V",
      "total_price": 320,
      "actual_price": 320,
      "status": 0,
      "pay_time": null,
      "create_time": "2023-01-03 15:00:00",
      "address": "贵州省毕节市威宁彝族回族苗族自治县炉山镇",
      "ip": "192.168.1.3",
      "remark": "这是第三条订单备注",
      "product_id": 3,
      "coupon_id": 0,
      "count": 1,
      "name": "王五",
      "phone": "5551234567",
      "express_no": null,
      "express_company": null,
      "delete_status": 0,
      "product_specification_id": 5,
      "product_name": "猫咪摆件",
      "product_icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "product_brief": "超级好看的猫咪摆件",
      "product_category": "官方",
      "product_postage": 0,
      "product_specification_name": "大号",
      "product_specification_value": 80,
      "product_specification_stock": 228,
      "user_uuid": "86F16720A93243D5",
      "user_username": "墨羽晨",
      "user_phone": "17389241560"
    }
  ],
  "total": 3
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||订单数据id|
|»» user_id|integer|true|none||下单用户id|
|»» order_no|string|true|none||16位订单号|
|»» total_price|integer|true|none||订单总价|
|»» actual_price|integer|true|none||实付价格|
|»» status|integer|true|none||状态,0未支付1已支付2待发货3待收货4待评价5已完成6已退款|
|»» pay_time|null|true|none||支付时间|
|»» create_time|string|true|none||创建时间|
|»» address|string|true|none||收货地址|
|»» ip|string|true|none||下单ip|
|»» remark|string|true|none||订单备注|
|»» product_id|integer|true|none||商品id|
|»» coupon_id|integer|true|none||优惠券id，0不使用|
|»» count|integer|true|none||下单份数|
|»» name|string|true|none||收货人姓名|
|»» phone|string|true|none||收货人手机号|
|»» express_no|null|true|none||快递单号|
|»» express_company|null|true|none||快递公司|
|»» delete_status|integer|true|none||逻辑删除状态，0正常1已删除|
|»» product_specification_id|integer|true|none||商品规格id|
|»» product_name|string|true|none||商品名称|
|»» product_icon|string|true|none||商品图片，半角逗号分隔|
|»» product_brief|string|true|none||商品简介|
|»» product_category|string|true|none||商品标签|
|»» product_postage|integer|true|none||商品邮费，0表示包邮|
|»» product_specification_name|string|true|none||商品规格名称|
|»» product_specification_value|integer|true|none||此规格价格|
|»» product_specification_stock|integer|true|none||此规格库存|
|»» user_uuid|string|false|none||下单用户uuid|
|»» user_username|string|false|none||下单用户账号|
|»» user_phone|string|false|none||下单用户手机号|
|» total|integer|true|none||none|

## GET 获取订单详情

GET /admin/order/getOrderDetail

数据id和订单号二选一，数据id优先级高于订单号

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 否 |数据id|
|order_no|query|string| 否 |订单号|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取订单详情成功",
  "data": {
    "id": 9,
    "user_id": 2,
    "order_no": "D1700186990BNI32",
    "total_price": 240,
    "actual_price": 240,
    "status": 0,
    "pay_time": null,
    "create_time": "2023-01-02 12:00:00",
    "address": "重庆市市辖区合川区三汇镇",
    "ip": "192.168.1.2",
    "remark": "这是第二条订单备注",
    "product_id": 3,
    "coupon_id": 0,
    "count": 3,
    "name": "李四",
    "phone": "9876543210",
    "express_no": null,
    "express_company": null,
    "delete_status": 0,
    "product_specification_id": 4,
    "product_name": "猫咪摆件",
    "product_icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
    "product_brief": "超级好看的猫咪摆件",
    "product_category": "官方",
    "product_postage": 0,
    "product_specification_name": "中号",
    "product_specification_value": 60,
    "product_specification_stock": 323,
    "user_uuid": "86F16720A93243D5",
    "user_username": "墨羽晨",
    "user_phone": "17389241560"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» id|integer|true|none||订单数据id|
|» user_id|integer|true|none||下单用户id|
|» order_no|string|true|none||16位订单号|
|» total_price|integer|true|none||订单总价|
|» actual_price|integer|true|none||实付价格|
|» status|integer|true|none||状态,0未支付1已支付2待发货3待收货4待评价5已完成6已退款|
|» pay_time|null|true|none||支付时间|
|» create_time|string|true|none||创建时间|
|» address|string|true|none||收货地址|
|» ip|string|true|none||下单ip|
|» remark|string|true|none||订单备注|
|» product_id|integer|true|none||商品id|
|» coupon_id|integer|true|none||优惠券id，0不使用|
|» count|integer|true|none||下单份数|
|» name|string|true|none||收货人姓名|
|» phone|string|true|none||收货人手机号|
|» express_no|null|true|none||快递单号|
|» express_company|null|true|none||快递公司|
|» delete_status|integer|true|none||逻辑删除状态，0正常1已删除|
|» product_specification_id|integer|true|none||商品规格id|
|» product_name|string|true|none||商品名称|
|» product_icon|string|true|none||商品图片，半角逗号分隔|
|» product_brief|string|true|none||商品简介|
|» product_category|string|true|none||商品标签|
|» product_postage|integer|true|none||商品邮费，0表示包邮|
|» product_specification_name|string|true|none||商品规格名称|
|» product_specification_value|integer|true|none||此规格价格|
|» product_specification_stock|integer|true|none||此规格库存|
|» user_uuid|string|false|none||下单用户uuid|
|» user_username|string|false|none||下单用户账号|
|» user_phone|string|false|none||下单用户手机号|

## GET 订单搜索

GET /admin/order/searchOrderList

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|user_id|query|string| 否 |用户id|
|pay_time|query|string| 否 |支付时间，格式化时间字符串，时间精度到天|
|create_time|query|string| 否 |订单创建时间，格式化时间字符串，时间精度到天|
|delete_status|query|string| 否 |删除状态，0未删除，1已删除|
|ip|query|string| 否 |下单ip|
|product_id|query|string| 否 |商品id|
|product_specification_id|query|string| 否 |商品规格id|
|coupon_id|query|string| 否 |优惠券id|
|name|query|string| 否 |优惠券名称|
|coupon|query|string| 否 |收件人名称|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "搜索订单列表成功",
  "data": [
    {
      "id": 8,
      "user_id": 2,
      "order_no": "D170018699103P5N",
      "total_price": 101.25,
      "actual_price": 101.25,
      "status": 0,
      "pay_time": null,
      "create_time": "2023-01-01 10:00:00",
      "address": "四川省德阳市什邡市南泉镇",
      "ip": "192.168.1.1",
      "remark": "这是第一条订单备注",
      "product_id": 3,
      "coupon_id": 0,
      "count": 2,
      "name": "张三",
      "phone": "1234567890",
      "express_no": null,
      "express_company": null,
      "delete_status": 0,
      "product_specification_id": 3,
      "product_name": "猫咪摆件",
      "product_icon": "/public/product_icon/icon-1700018393460.png,/public/product_icon/icon-1700018393499.png",
      "product_brief": "超级好看的猫咪摆件",
      "product_category": "官方",
      "product_postage": 0,
      "product_specification_name": "小号",
      "product_specification_value": 50.25,
      "product_specification_stock": 221,
      "user_uuid": "86F16720A93243D5",
      "user_username": "墨羽晨",
      "user_phone": "17389241560"
    }
  ],
  "total": 1
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||订单数据id|
|»» user_id|integer|true|none||下单用户id|
|»» order_no|string|true|none||16位订单号|
|»» total_price|integer|true|none||订单总价|
|»» actual_price|integer|true|none||实付价格|
|»» status|integer|true|none||状态,0未支付1已支付2待发货3待收货4待评价5已完成6已退款|
|»» pay_time|null|true|none||支付时间|
|»» create_time|string|true|none||创建时间|
|»» address|string|true|none||收货地址|
|»» ip|string|true|none||下单ip|
|»» remark|string|true|none||订单备注|
|»» product_id|integer|true|none||商品id|
|»» coupon_id|integer|true|none||优惠券id，0不使用|
|»» count|integer|true|none||下单份数|
|»» name|string|true|none||收货人姓名|
|»» phone|string|true|none||收货人手机号|
|»» express_no|null|true|none||快递单号|
|»» express_company|null|true|none||快递公司|
|»» delete_status|integer|true|none||逻辑删除状态，0正常1已删除|
|»» product_specification_id|integer|true|none||商品规格id|
|»» product_name|string|true|none||商品名称|
|»» product_icon|string|true|none||商品图片，半角逗号分隔|
|»» product_brief|string|true|none||商品简介|
|»» product_category|string|true|none||商品标签|
|»» product_postage|integer|true|none||商品邮费，0表示包邮|
|»» product_specification_name|string|true|none||商品规格名称|
|»» product_specification_value|integer|true|none||此规格价格|
|»» product_specification_stock|integer|true|none||此规格库存|
|»» user_uuid|string|false|none||下单用户uuid|
|»» user_username|string|false|none||下单用户账号|
|»» user_phone|string|false|none||下单用户手机号|
|» total|integer|true|none||none|

## PUT 修改订单收货信息

PUT /admin/order/updateOrder

包括订单收货地址，收货人姓名，收货人电话

> Body 请求参数

```yaml
id: string
name: string
phone: string
address: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |订单数据id|
|» name|body|string| 否 |订单收货人姓名|
|» phone|body|string| 否 |订单收货人电话|
|» address|body|string| 否 |订单收货地址|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改订单成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## PUT 修改订单状态

PUT /admin/order/updateOrderStatus

当前接口 不支持修改为已发货

> Body 请求参数

```yaml
id: string
status: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |数据id|
|» status|body|string| 是 |状态,0未支付1已支付2待发货4待评价5已完成6已退款|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "修改订单状态成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 订单发货

POST /admin/order/deliverOrder

> Body 请求参数

```yaml
id: string
express_no: string
express_company: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |数据id|
|» express_no|body|string| 是 |快递订单号|
|» express_company|body|string| 是 |快递公司|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "订单发货成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## DELETE 逻辑删除订单

DELETE /admin/order/deleteOrder

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |订单数据id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "订单删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## POST 恢复订单

POST /admin/order/recoverOrder

> Body 请求参数

```yaml
id: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |数据id|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "订单恢复成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## DELETE 实际删除订单

DELETE /admin/order/deleteOrderReal

调用此接口会物理层完全删除数据

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string| 是 |数据id|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "订单删除成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

## GET 获取系统统计数据

GET /admin/system/getSystemData

得到的库存低于10的商品数量不是商品数量，是商品规格数量

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取系统统计数据成功",
  "data": {
    "user_count": 3,
    "today_user_count": 1,
    "order_count": 2,
    "product_count": 1,
    "today_product_count": 0,
    "order_real_price_count": 341.25,
    "today_order_real_price_count": 0,
    "order_wait_send_count": 0,
    "order_wait_receive_count": 1,
    "coupon_use_count": 0,
    "coupon_use_price_count": 0,
    "product_stock_count": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|object|true|none||none|
|»» user_count|integer|true|none||系统注册用户总数|
|»» today_user_count|integer|true|none||今日用户注册数|
|»» order_count|integer|true|none||订单总数|
|»» product_count|integer|true|none||商品总数|
|»» today_product_count|integer|true|none||今日添加商品数|
|»» order_real_price_count|number|true|none||订单实付总额|
|»» today_order_real_price_count|integer|true|none||今日订单实付总额|
|»» order_wait_send_count|integer|true|none||待发货总数|
|»» order_wait_receive_count|integer|true|none||待收货总数|
|»» coupon_use_count|integer|true|none||优惠券使用数|
|»» coupon_use_price_count|integer|true|none||优惠券使用总额|
|»» product_stock_count|integer|true|none||库存低于10的商品数量|

## POST 通用图片上传接口

POST /admin/system/uploadFile

> Body 请求参数

```yaml
file: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» file|body|string(binary)| 是 |none|

> 返回示例

> 成功

```json
{
  "msg": "上传成功",
  "code": 200,
  "data": "/public/image/icon-ahsdhajshda.png"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» msg|string|true|none||none|
|» code|integer|true|none||none|
|» data|string|true|none||none|

## PUT 修改订单备注

PUT /admin/order/updateOrderRemark

> Body 请求参数

```yaml
id: string
remark: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|
|» id|body|string| 是 |订单数据id|
|» remark|body|string| 是 |订单新备注|

> 返回示例

> 成功

```json
{
  "msg": "修改订单备注成功",
  "code": 200
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» msg|string|true|none||none|
|» code|integer|true|none||none|

## GET 获取一个月订单数量变化

GET /admin/system/orders/count

获取这30天内每天的订单数量，没有则值为0

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取订单数量变化成功",
  "data": [
    {
      "date": "2023-12-01",
      "count": 1
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» date|string|false|none||日期|
|»» count|integer|false|none||数量|

## GET 获取系统消息未读条数

GET /admin/system/getUnreadMsgCount

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取未读消息条数成功",
  "data": 1
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|integer|true|none||none|

## GET 获取系统消息

GET /admin/system/getMsgList

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string| 否 |页码|
|limit|query|string| 否 |每页数量|
|Authorization|header|string| 是 |管理员token|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "获取消息列表成功",
  "data": [
    {
      "id": 4,
      "title": "测试",
      "content": "测试",
      "create_time": "2023-12-21 13:42:06",
      "type": "error",
      "isread": 0,
      "copy": ""
    },
    {
      "id": 3,
      "title": "测试",
      "content": "测试",
      "create_time": "2023-12-21 13:41:59",
      "type": "error",
      "isread": 0,
      "copy": ""
    }
  ],
  "total": 3
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||数据id|
|»» title|string|true|none||消息标题|
|»» content|string|true|none||消息内容|
|»» create_time|string|true|none||发送时间|
|»» type|string|true|none||消息类型，success，error|
|»» isread|integer|true|none||是否已读，0否1是|
|»» copy|string|true|none||可复制内容|
|» total|integer|true|none||数据总数|

## POST 消息标记为已读

POST /admin/system/readMsg

> Body 请求参数

```yaml
id: string

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authorization|header|string| 是 |登录页token|
|» id|body|string| 是 |数据id，多个id使用半角逗号分割|

> 返回示例

> 成功

```json
{
  "code": 200,
  "msg": "标记成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|true|none||none|

# 数据模型

